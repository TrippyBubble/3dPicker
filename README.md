# ü¶† Colony Counter with YOLOv5

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Å—á—ë—Ç–∞ **–±–∞–∫—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∏–π –Ω–∞ —á–∞—à–∫–∞—Ö –ü–µ—Ç—Ä–∏** —Å –ø–æ–º–æ—â—å—é –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ –º–æ–¥–µ–ª–∏ **YOLOv5**. –ú–æ–¥–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ–ª–æ–Ω–∏–π –Ω–∞ –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
colony_counter/
‚îú‚îÄ‚îÄ dataset/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ train/         # —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ val/           # –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ labels/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ train/         # –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ .txt –≤ —Ñ–æ—Ä–º–∞—Ç–µ YOLO (bbox)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ val/
‚îú‚îÄ‚îÄ yolov5/                # YOLOv5-–∫–ª–æ–Ω (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ dataset.yaml           # –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
‚îú‚îÄ‚îÄ train.py               # –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ detect_all.py          # –∑–∞–ø—É—Å–∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
‚îú‚îÄ‚îÄ graph.ipynb  # –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ colony_predictions.csv # —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏ (csv-—Ç–∞–±–ª–∏—Ü–∞)
‚îú‚îÄ‚îÄ README.md              # —Ç—ã —á–∏—Ç–∞–µ—à—å –µ–≥–æ :)
```
## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install certifi opencv-python pandas matplotlib
```
–ï—Å–ª–∏ yolov5/ –Ω–µ—Ç ‚Äî –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ train.py.

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤—å –¥–∞–Ω–Ω—ã–µ
- –ö–∞—Ä—Ç–∏–Ω–∫–∏: dataset/images/train/ –∏ dataset/images/val/
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏: .txt –≤ YOLO —Ñ–æ—Ä–º–∞—Ç–µ ‚Üí dataset/labels/train/ –∏ val/

**–§–æ—Ä–º–∞—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (filename.txt):**
```angular2html
0 0.52 0.43 0.05 0.06
```

(–≥–¥–µ 0 ‚Äî –∫–ª–∞—Å—Å ‚Äúcolony‚Äù, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã bbox –≤ YOLO-—Ñ–æ—Ä–º–∞—Ç–µ)

### 3. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
```bash
python train.py
```
–ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ –ø—É—Ç–∏:
```angular2html
runs/train/colony_detection*/weights/best.pt
```
### 4. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
```bash
python detect_all.py
```
–°–∫—Ä–∏–ø—Ç:
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç best.pt
- –≤—ã–ø–æ–ª–Ω–∏—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ dataset/images/val
- —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Ç–∞–±–ª–∏—Ü—É colony_predictions.csv —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–æ–ª–æ–Ω–∏–π –Ω–∞ –∫–∞–∂–¥–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è
- yolov5/ ‚Äî –∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è –∏–∑ https://github.com/ultralytics/yolov5 –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—É—à–∏—Ç—å—Å—è –≤ git. –î–æ–±–∞–≤—å –µ–≥–æ –≤ .gitignore.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–∑–º–µ—Ç–∫–∏ ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ.
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ .jpg –∏ .txt —Å–æ–≤–ø–∞–¥–∞—é—Ç.
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π model.conf = 0.5-0.6 –¥–ª—è –æ—Ç—Å–µ—á–µ–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π.

## üß† –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏, –∞ —Ç–∞–∫ –∂–µ –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–∑–º–µ—Ç–∫–∏. –î–∞–ª–µ–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: –¥–æ–∞–±–≤–ª–µ–Ω–∏–µ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.